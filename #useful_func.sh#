#!/bin/bash

function isPartlyMatch () {
    if [ $# -lt 2 ]; then
	echo "Error to function isPartlyMatch()"
	echo "Unexpected number of argument."
	exit 1
    fi
    local former="$1"
    local -a latter=("${@:2}")
    for l in ${latter[@]}
    do
	if [ "$1" = "$l" ]; then
	    return 0
	fi
	if [[ ${former} == *${l}* ]]; then
	    return 0
	elif [[ ${l} == *${former}* ]]; then
	    return 0
	fi
    done
    return 1
}

function arrayFilter () { #第一変数にinputを、第二変数に配列を置く。
    local filter="$1"
    local -a array=("${@:2}")
    for arr in ${array[@]}
    do
	if [[ $arr =~ ^$filter ]]; then
	    echo $arr
	fi
    done
}

function rand () {
    if [ $# -eq 3 ]; then
	local -i row=1
	local -i num=$1
	local -i min=$2
	local -i max=$3
    elif [ $# -eq 4 ]; then
	local -i row=$1
	if [ $row -lt 1 ]; then return; fi
	local -i num=$2
	local -i min=$3
	local -i max=$4
    else
	return echo "BAN";
    fi

    if [ $num -lt 1 ]; then return; fi
    if [ $min -gt $max ]; then return; fi

    local -i i

    for i in `seq 1 $row`; do
	for u in `seq 1 $num`; do
	    echo $(($min + $RANDOM % ($max - $min + 1))) 
	done
    done
}
